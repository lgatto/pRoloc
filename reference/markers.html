<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create a marker vector or matrix. — mrkVecToMat • pRoloc</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create a marker vector or matrix. — mrkVecToMat"><meta property="og:description" content="Functions producing a new vector (matrix) marker vector set from
an existing matrix (vector) marker set."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pRoloc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.45.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/v01-pRoloc-tutorial.html">Using pRoloc for spatial proteomics data analysis</a>
    </li>
    <li>
      <a href="../articles/v02-pRoloc-ml.html">Machine learning techniques available in pRoloc</a>
    </li>
    <li>
      <a href="../articles/v03-pRoloc-bayesian.html">Bayesian Analysis of Spatial Proteomics data using pRoloc</a>
    </li>
    <li>
      <a href="../articles/v04-pRoloc-goannotations.html">Annotating spatial proteomics data</a>
    </li>
    <li>
      <a href="../articles/v05-pRoloc-transfer-learning.html">A transfer learning algorithm for spatial proteomics</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/lgatto/pRoloc/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a marker vector or matrix.</h1>
    <small class="dont-index">Source: <a href="https://github.com/lgatto/pRoloc/blob/master/R/markers.R" class="external-link"><code>R/markers.R</code></a></small>
    <div class="hidden name"><code>markers.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functions producing a new vector (matrix) marker vector set from
an existing matrix (vector) marker set.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mrkVecToMat</span><span class="op">(</span><span class="va">object</span>, vfcol <span class="op">=</span> <span class="st">"markers"</span>, mfcol <span class="op">=</span> <span class="st">"Markers"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mrkMatToVec</span><span class="op">(</span><span class="va">object</span>, mfcol <span class="op">=</span> <span class="st">"Markers"</span>, vfcol <span class="op">=</span> <span class="st">"markers"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mrkMatAndVec</span><span class="op">(</span><span class="va">object</span>, vfcol <span class="op">=</span> <span class="st">"markers"</span>, mfcol <span class="op">=</span> <span class="st">"Markers"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">showMrkMat</span><span class="op">(</span><span class="va">object</span>, mfcol <span class="op">=</span> <span class="st">"Markers"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">isMrkMat</span><span class="op">(</span><span class="va">object</span>, fcol <span class="op">=</span> <span class="st">"Markers"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">isMrkVec</span><span class="op">(</span><span class="va">object</span>, fcol <span class="op">=</span> <span class="st">"markers"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mrkEncoding</span><span class="op">(</span><span class="va">object</span>, fcol <span class="op">=</span> <span class="st">"markers"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>An <code>MSnSet</code> object</p></dd>


<dt id="arg-vfcol">vfcol<a class="anchor" aria-label="anchor" href="#arg-vfcol"></a></dt>
<dd><p>The name of the <em>vector</em> marker feature
variable. Default is <code>"markers"</code>.</p></dd>


<dt id="arg-mfcol">mfcol<a class="anchor" aria-label="anchor" href="#arg-mfcol"></a></dt>
<dd><p>The name of the <em>matrix</em> marker feature
variable. Default is <code>"Markers"</code>.</p></dd>


<dt id="arg-fcol">fcol<a class="anchor" aria-label="anchor" href="#arg-fcol"></a></dt>
<dd><p>A marker feature variable name.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An updated <code>MSnSet</code> with a new vector (matrix) marker
set.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Sub-cellular markers can be encoded in two different ways. Sets of
spatial markers can be represented as character <em>vectors</em>
(<code>character</code> or <code>factor</code>, to be accurate), stored as
feature metadata, and proteins of unknown or uncertain
localisation (unlabelled, to be classified) are marked with the
<code>"unknown"</code> character. While very handy, this encoding
suffers from some drawbacks, in particular the difficulty to label
proteins that reside in multiple (possible or actual)
localisations. The markers vector feature data is typically named
<code>markers</code>. A new <em>matrix</em> encoding is also
supported. Each spatial compartment is defined in a column in a
binary markers matrix and the resident proteins are encoded with
1s. The markers matrix feature data is typically named
<code>Markers</code>. If proteins are assigned unique localisations only
(i.e. no multi-localisation) or their localisation is unknown
(unlabelled), then both encodings are equivalent. When the markers
are encoded as vectors, features of unknown localisation are
defined as <code>fData(object)[, fcol] == "unknown"</code>. For
matrix-encoded markers, unlabelled proteins are defined as
<code>rowSums(fData(object)[, fcol]) == 0</code>.</p>
<p>The <code>mrkMatToVec</code> and <code>mrkVecToMat</code> functions enable the
conversion from matrix (vector) to vector (matrix). The
<code>mrkMatAndVec</code> function generates the missing encoding from
the existing one. If the destination encoding already exists, or,
more accurately, if the feature variable of the destination
encoding exists, an error is thrown. During the conversion from
matrix to vector, if multiple possible label exists, they are
dropped, i.e. they are converted to <code>"unknown"</code>. Function
<code>isMrkVec</code> and <code>isMrkMat</code> can be used to test if a
marker set is encoded as a vector or a matrix. <code>mrkEncoding</code>
returns either <code>"vector"</code> or <code>"matrix"</code> depending on the
nature of the markers.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other functions that operate on markers are
<code><a href="getMarkers.html">getMarkers</a></code>, <code><a href="getMarkerClasses.html">getMarkerClasses</a></code> and
<code><a href="markerMSnSet.html">markerMSnSet</a></code>. To add markers to an existing
<code>MSnSet</code>, see the <code><a href="addMarkers.html">addMarkers</a></code> function and
<code><a href="pRolocmarkers.html">pRolocmarkers</a></code>, for a list of suggested markers.</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Laurent Gatto and Lisa Breckels</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/lgatto/pRolocdata" class="external-link">"pRolocdata"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">dunkley2006</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dunk</span> <span class="op">&lt;-</span> <span class="fu">mrkVecToMat</span><span class="op">(</span><span class="va">dunkley2006</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">fData</span><span class="op">(</span><span class="va">dunk</span><span class="op">)</span><span class="op">$</span><span class="va">Markers</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           ER lumen ER membrane Golgi Mitochondrion PM Plastid Ribosome TGN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G09210        1           0     0             0  0       0        0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G21750        1           0     0             0  0       0        0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G51760        1           0     0             0  0       0        0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G56340        1           0     0             0  0       0        0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT2G32920        1           0     0             0  0       0        0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT2G47470        1           0     0             0  0       0        0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           vacuole</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G09210       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G21750       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G51760       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G56340       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT2G32920       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT2G47470       0</span>
<span class="r-in"><span><span class="fu">fData</span><span class="op">(</span><span class="va">dunk</span><span class="op">)</span><span class="op">$</span><span class="va">markers</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="va">dunk</span> <span class="op">&lt;-</span> <span class="fu">mrkMatToVec</span><span class="op">(</span><span class="va">dunk</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="fu">fData</span><span class="op">(</span><span class="va">dunkley2006</span><span class="op">)</span><span class="op">$</span><span class="va">markers</span>,</span></span>
<span class="r-in"><span>                    <span class="fu">fData</span><span class="op">(</span><span class="va">dunk</span><span class="op">)</span><span class="op">$</span><span class="va">markers</span><span class="op">)</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laurent Gatto, Lisa Breckels, Oliver Crook.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.9000.</p>
</div>

      </footer></div>






  </body></html>


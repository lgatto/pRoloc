<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a marker vector or matrix. — mrkVecToMat • pRoloc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a marker vector or matrix. — mrkVecToMat"><meta name="description" content="Functions producing a new vector (matrix) marker vector set from
an existing matrix (vector) marker set."><meta property="og:description" content="Functions producing a new vector (matrix) marker vector set from
an existing matrix (vector) marker set."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pRoloc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.45.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/v01-pRoloc-tutorial.html">Using pRoloc for spatial proteomics data analysis</a></li>
    <li><a class="dropdown-item" href="../articles/v02-pRoloc-ml.html">Machine learning techniques available in pRoloc</a></li>
    <li><a class="dropdown-item" href="../articles/v03-pRoloc-bayesian.html">Bayesian Analysis of Spatial Proteomics data using pRoloc</a></li>
    <li><a class="dropdown-item" href="../articles/v04-pRoloc-goannotations.html">Annotating spatial proteomics data</a></li>
    <li><a class="dropdown-item" href="../articles/v05-pRoloc-transfer-learning.html">A transfer learning algorithm for spatial proteomics</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lgatto/pRoloc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create a marker vector or matrix.</h1>
      <small class="dont-index">Source: <a href="https://github.com/lgatto/pRoloc/blob/master/R/markers.R" class="external-link"><code>R/markers.R</code></a></small>
      <div class="d-none name"><code>markers.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Functions producing a new vector (matrix) marker vector set from
an existing matrix (vector) marker set.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mrkVecToMat</span><span class="op">(</span><span class="va">object</span>, vfcol <span class="op">=</span> <span class="st">"markers"</span>, mfcol <span class="op">=</span> <span class="st">"Markers"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mrkMatToVec</span><span class="op">(</span><span class="va">object</span>, mfcol <span class="op">=</span> <span class="st">"Markers"</span>, vfcol <span class="op">=</span> <span class="st">"markers"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mrkMatAndVec</span><span class="op">(</span><span class="va">object</span>, vfcol <span class="op">=</span> <span class="st">"markers"</span>, mfcol <span class="op">=</span> <span class="st">"Markers"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">showMrkMat</span><span class="op">(</span><span class="va">object</span>, mfcol <span class="op">=</span> <span class="st">"Markers"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">isMrkMat</span><span class="op">(</span><span class="va">object</span>, fcol <span class="op">=</span> <span class="st">"Markers"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">isMrkVec</span><span class="op">(</span><span class="va">object</span>, fcol <span class="op">=</span> <span class="st">"markers"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mrkEncoding</span><span class="op">(</span><span class="va">object</span>, fcol <span class="op">=</span> <span class="st">"markers"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>An <code>MSnSet</code> object</p></dd>


<dt id="arg-vfcol">vfcol<a class="anchor" aria-label="anchor" href="#arg-vfcol"></a></dt>
<dd><p>The name of the <em>vector</em> marker feature
variable. Default is <code>"markers"</code>.</p></dd>


<dt id="arg-mfcol">mfcol<a class="anchor" aria-label="anchor" href="#arg-mfcol"></a></dt>
<dd><p>The name of the <em>matrix</em> marker feature
variable. Default is <code>"Markers"</code>.</p></dd>


<dt id="arg-fcol">fcol<a class="anchor" aria-label="anchor" href="#arg-fcol"></a></dt>
<dd><p>A marker feature variable name.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An updated <code>MSnSet</code> with a new vector (matrix) marker
set.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Sub-cellular markers can be encoded in two different ways. Sets of
spatial markers can be represented as character <em>vectors</em>
(<code>character</code> or <code>factor</code>, to be accurate), stored as
feature metadata, and proteins of unknown or uncertain
localisation (unlabelled, to be classified) are marked with the
<code>"unknown"</code> character. While very handy, this encoding
suffers from some drawbacks, in particular the difficulty to label
proteins that reside in multiple (possible or actual)
localisations. The markers vector feature data is typically named
<code>markers</code>. A new <em>matrix</em> encoding is also
supported. Each spatial compartment is defined in a column in a
binary markers matrix and the resident proteins are encoded with
1s. The markers matrix feature data is typically named
<code>Markers</code>. If proteins are assigned unique localisations only
(i.e. no multi-localisation) or their localisation is unknown
(unlabelled), then both encodings are equivalent. When the markers
are encoded as vectors, features of unknown localisation are
defined as <code>fData(object)[, fcol] == "unknown"</code>. For
matrix-encoded markers, unlabelled proteins are defined as
<code>rowSums(fData(object)[, fcol]) == 0</code>.</p>
<p>The <code>mrkMatToVec</code> and <code>mrkVecToMat</code> functions enable the
conversion from matrix (vector) to vector (matrix). The
<code>mrkMatAndVec</code> function generates the missing encoding from
the existing one. If the destination encoding already exists, or,
more accurately, if the feature variable of the destination
encoding exists, an error is thrown. During the conversion from
matrix to vector, if multiple possible label exists, they are
dropped, i.e. they are converted to <code>"unknown"</code>. Function
<code>isMrkVec</code> and <code>isMrkMat</code> can be used to test if a
marker set is encoded as a vector or a matrix. <code>mrkEncoding</code>
returns either <code>"vector"</code> or <code>"matrix"</code> depending on the
nature of the markers.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other functions that operate on markers are
<code><a href="getMarkers.html">getMarkers</a></code>, <code><a href="getMarkerClasses.html">getMarkerClasses</a></code> and
<code><a href="markerMSnSet.html">markerMSnSet</a></code>. To add markers to an existing
<code>MSnSet</code>, see the <code><a href="addMarkers.html">addMarkers</a></code> function and
<code><a href="pRolocmarkers.html">pRolocmarkers</a></code>, for a list of suggested markers.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Laurent Gatto and Lisa Breckels</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/lgatto/pRolocdata" class="external-link">"pRolocdata"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">dunkley2006</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dunk</span> <span class="op">&lt;-</span> <span class="fu">mrkVecToMat</span><span class="op">(</span><span class="va">dunkley2006</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">fData</span><span class="op">(</span><span class="va">dunk</span><span class="op">)</span><span class="op">$</span><span class="va">Markers</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           ER lumen ER membrane Golgi Mitochondrion PM Plastid Ribosome TGN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G09210        1           0     0             0  0       0        0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G21750        1           0     0             0  0       0        0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G51760        1           0     0             0  0       0        0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G56340        1           0     0             0  0       0        0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT2G32920        1           0     0             0  0       0        0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT2G47470        1           0     0             0  0       0        0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           vacuole</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G09210       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G21750       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G51760       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT1G56340       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT2G32920       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AT2G47470       0</span>
<span class="r-in"><span><span class="fu">fData</span><span class="op">(</span><span class="va">dunk</span><span class="op">)</span><span class="op">$</span><span class="va">markers</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="va">dunk</span> <span class="op">&lt;-</span> <span class="fu">mrkMatToVec</span><span class="op">(</span><span class="va">dunk</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="fu">fData</span><span class="op">(</span><span class="va">dunkley2006</span><span class="op">)</span><span class="op">$</span><span class="va">markers</span>,</span></span>
<span class="r-in"><span>                    <span class="fu">fData</span><span class="op">(</span><span class="va">dunk</span><span class="op">)</span><span class="op">$</span><span class="va">markers</span><span class="op">)</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Laurent Gatto, Lisa Breckels, Oliver Crook.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

